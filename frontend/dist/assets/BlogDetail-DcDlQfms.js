import{r as e,j as t,L as s,h as r,f as a}from"./react-vendor-KvxbO3mS.js";import{s as l,i as n,F as o}from"./index-D0fMXm6Q.js";import"./vendor-ZcaEhcQo.js";import"./editor-vendor-CSPj58cm.js";import"./supabase-DvSZys4T.js";function i({doctorSlugs:r}){const[a,o]=e.useState([]),[i,c]=e.useState(!0);return e.useEffect(()=>{r&&r.length>0?async function(){try{if(!l||!n)return void c(!1);const e=r.filter(e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e)),t=r.filter(e=>!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e));let s=[];if(e.length>0){const{data:t}=await l.from("doctors").select("*").eq("is_active",!0).in("id",e);t&&(s=[...s,...t])}if(t.length>0){const{data:e}=await l.from("doctors").select("*").eq("is_active",!0).in("slug",t);e&&(s=[...s,...e])}const a=r.map(e=>s.find(t=>t.slug===e||t.id===e)).filter(Boolean);o(a)}catch(e){}finally{c(!1)}}():c(!1)},[r]),i?t.jsx("div",{className:"my-8 flex justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):0===a.length?null:t.jsx("div",{className:"my-8 not-prose embedded-doctor-cards",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:a.map(e=>t.jsxs(s,{to:`/doctor/${e.slug||e.id}`,className:"flex items-center gap-3 p-3 bg-slate-50 hover:bg-slate-100 rounded-lg transition-colors group border border-gray-200 hover:border-emerald-300",style:{textDecoration:"none"},children:[t.jsx("div",{className:"w-14 h-14 rounded-full overflow-hidden flex-shrink-0",children:e.image_url?t.jsx("img",{src:e.image_url,alt:e.name,className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full bg-slate-200 flex items-center justify-center",children:t.jsx("svg",{className:"w-7 h-7 text-slate-600",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"})})})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"font-semibold text-[14px] text-gray-800 group-hover:text-emerald-700 transition-colors truncate",style:{textDecoration:"none",lineHeight:"1.4"},children:e.name}),e.degrees&&t.jsx("p",{className:"text-xs text-emerald-600 truncate",style:{textDecoration:"none",lineHeight:"1.3"},children:e.degrees}),e.category_name&&t.jsx("p",{className:"text-xs text-gray-500 truncate",style:{textDecoration:"none",lineHeight:"1.3"},children:e.category_name})]}),t.jsx("svg",{className:"w-4 h-4 text-slate-400 group-hover:text-emerald-600 flex-shrink-0 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},e.id))})})}function c({container:e,slugs:s}){return e?r.createPortal(t.jsx(i,{doctorSlugs:s}),e):null}function d({content:s}){const r=e.useRef(null),[a,l]=e.useState([]),n=e.useMemo(()=>s?s.replace(/<div[^>]*class="embedded-doctors"[^>]*data-doctor-slugs="([^"]*)"[^>]*><\/div>/gi,(e,t)=>`<div id="${`doctor-embed-${Math.random().toString(36).substr(2,9)}`}" class="doctor-embed-placeholder" data-doctor-slugs="${t}"></div>`):"",[s]);return e.useEffect(()=>{if(!r.current)return;const e=r.current.querySelectorAll(".doctor-embed-placeholder"),t=[];e.forEach(e=>{const s=e.getAttribute("data-doctor-slugs");s&&t.push({element:e,slugs:s.split(",").filter(e=>e.trim())})}),l(t)},[n]),s?t.jsxs(t.Fragment,{children:[t.jsx("div",{ref:r,className:"prose prose-lg max-w-none prose-headings:text-gray-900 prose-p:text-gray-700 prose-a:text-teal-600 prose-strong:text-gray-900 prose-img:rounded-xl prose-img:shadow-lg",dangerouslySetInnerHTML:{__html:n}}),a.map((e,s)=>t.jsx(c,{container:e.element,slugs:e.slugs},s))]}):null}function m(){const{slug:r}=a(),[i,c]=e.useState(null),[m,h]=e.useState(!0),[u,x]=e.useState([]);function g(e){if(!e)return"";return new Date(e).toLocaleDateString("bn-BD",{year:"numeric",month:"long",day:"numeric"})}function p(e){const t=encodeURIComponent(window.location.href),s=encodeURIComponent(i?.title||""),r={facebook:`https://www.facebook.com/sharer/sharer.php?u=${t}`,twitter:`https://twitter.com/intent/tweet?url=${t}&text=${s}`,linkedin:`https://www.linkedin.com/sharing/share-offsite/?url=${t}`,whatsapp:`https://wa.me/?text=${s}%20${t}`};window.open(r[e],"_blank","width=600,height=400")}return e.useEffect(()=>{r&&async function(){try{if(!l||!n)return void h(!1);const{data:e,error:t}=await l.from("blog_posts").select("*").eq("slug",r).eq("status","published").single();if(t)throw t;if(c(e),await l.from("blog_posts").update({view_count:(e.view_count||0)+1}).eq("id",e.id),e.categories&&e.categories.length>0){const{data:t}=await l.from("blog_posts").select("id, title, slug, featured_image_url, published_at").eq("status","published").neq("id",e.id).contains("categories",[e.categories[0]]).limit(3);x(t||[])}!function(e){document.title=e.meta_title||e.title||"ব্লগ পোস্ট";let t=document.querySelector('meta[name="description"]');t||(t=document.createElement("meta"),t.name="description",document.head.appendChild(t));t.content=e.meta_description||e.excerpt||"";let s=document.querySelector('meta[name="keywords"]');s||(s=document.createElement("meta"),s.name="keywords",document.head.appendChild(s));s.content=e.keywords?.join(", ")||"";const r={"og:title":e.meta_title||e.title,"og:description":e.meta_description||e.excerpt,"og:image":e.featured_image_url,"og:type":"article","og:locale":"bn_BD","article:published_time":e.published_at,"article:author":e.author};Object.entries(r).forEach(([e,t])=>{if(t){let s=document.querySelector(`meta[property="${e}"]`);s||(s=document.createElement("meta"),s.setAttribute("property",e),document.head.appendChild(s)),s.content=t}});const a={"twitter:card":"summary_large_image","twitter:title":e.meta_title||e.title,"twitter:description":e.meta_description||e.excerpt,"twitter:image":e.featured_image_url};Object.entries(a).forEach(([e,t])=>{if(t){let s=document.querySelector(`meta[name="${e}"]`);s||(s=document.createElement("meta"),s.name=e,document.head.appendChild(s)),s.content=t}});let l=document.querySelector('script[type="application/ld+json"]');l&&l.remove();const n={"@context":"https://schema.org","@type":"BlogPosting",headline:e.title,description:e.meta_description||e.excerpt,image:e.featured_image_url,author:{"@type":"Person",name:e.author},datePublished:e.published_at,dateModified:e.updated_at,publisher:{"@type":"Organization",name:"ইজি ডক্টর রংপুর",logo:{"@type":"ImageObject",url:window.location.origin+"/logo-icon.png"}},mainEntityOfPage:{"@type":"WebPage","@id":window.location.href},keywords:e.keywords?.join(", "),inLanguage:"bn-BD"},o=document.createElement("script");o.type="application/ld+json",o.text=JSON.stringify(n),document.head.appendChild(o)}(e)}catch(e){}finally{h(!1)}}()},[r]),m?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})}):i?t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsxs("article",{children:[i.featured_image_url&&t.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-8",children:t.jsx("div",{className:"rounded-2xl overflow-hidden shadow-lg",children:t.jsx("img",{src:i.featured_image_url,alt:i.title,className:"w-full h-auto max-h-[300px] md:max-h-[350px] object-cover object-center"})})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs(s,{to:"/blog",className:"inline-flex items-center gap-2 text-teal-600 hover:text-teal-700 font-medium mb-6",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"ব্লগে ফিরে যান"]}),i.categories&&i.categories.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:i.categories.map((e,s)=>t.jsx("span",{className:"px-3 py-1 bg-teal-100 text-teal-700 text-sm font-medium rounded-full",children:e},s))}),t.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-6 leading-tight",children:i.title}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-gray-500 mb-8 pb-8 border-b",children:[i.author&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-10 h-10 bg-teal-100 rounded-full flex items-center justify-center",children:t.jsx("svg",{className:"w-6 h-6 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),t.jsx("span",{className:"font-medium text-gray-700",children:i.author})]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),g(i.published_at)]}),i.reading_time_minutes&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.reading_time_minutes," মিনিট পড়ার সময়"]}),i.view_count>0&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),i.view_count," বার পড়া হয়েছে"]})]}),t.jsx(d,{content:i.content}),t.jsxs("div",{className:"mt-12 pt-8 border-t",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"শেয়ার করুন"}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>p("facebook"),className:"p-3 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors",title:"Facebook",children:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z"})})}),t.jsx("button",{onClick:()=>p("twitter"),className:"p-3 bg-sky-500 text-white rounded-full hover:bg-sky-600 transition-colors",title:"Twitter",children:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96 1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5 0-4.55 2.04-4.55 4.54 0 .36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6 1.45-.6 2.3 0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2 1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78 18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35 0 12.92-6.92 12.92-12.93 0-.2 0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z"})})}),t.jsx("button",{onClick:()=>p("linkedin"),className:"p-3 bg-blue-700 text-white rounded-full hover:bg-blue-800 transition-colors",title:"LinkedIn",children:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})}),t.jsx("button",{onClick:()=>p("whatsapp"),className:"p-3 bg-green-500 text-white rounded-full hover:bg-green-600 transition-colors",title:"WhatsApp",children:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})})]})]}),i.tags&&i.tags.length>0&&t.jsxs("div",{className:"mt-8",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"ট্যাগ"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:i.tags.map((e,s)=>t.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-600 text-sm rounded-full",children:["#",e]},s))})]})]})]}),u.length>0&&t.jsx("section",{className:"bg-white py-12",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-8",children:"সম্পর্কিত পোস্ট"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:u.map(e=>t.jsxs(s,{to:`/blog/${e.slug}`,className:"group bg-gray-50 rounded-xl overflow-hidden hover:shadow-lg transition-all",children:[t.jsx("div",{className:"aspect-video overflow-hidden",children:e.featured_image_url?t.jsx("img",{src:e.featured_image_url,alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-teal-100 to-emerald-100",children:t.jsx("svg",{className:"w-12 h-12 text-teal-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})})})}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"font-semibold text-gray-800 group-hover:text-teal-600 transition-colors line-clamp-2",children:e.title}),t.jsx("p",{className:"text-sm text-gray-500 mt-2",children:g(e.published_at)})]})]},e.id))})]})}),t.jsx(o,{})]}):t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-24 h-24 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx("svg",{className:"w-12 h-12 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"পোস্ট পাওয়া যায়নি"}),t.jsx("p",{className:"text-gray-500 mb-6",children:"আপনি যে পোস্টটি খুঁজছেন তা পাওয়া যায়নি"}),t.jsxs(s,{to:"/blog",className:"inline-flex items-center gap-2 text-teal-600 hover:text-teal-700 font-medium",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"ব্লগে ফিরে যান"]})]})})}export{m as default};
