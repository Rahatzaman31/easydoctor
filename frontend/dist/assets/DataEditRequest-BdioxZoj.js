import{r as e,j as s,L as r}from"./react-vendor-DK4SYnaI.js";import{F as a,s as t,i as l}from"./index-DdJT-0ac.js";import"./vendor-Ct5Y5_H5.js";import"./editor-vendor-DQbJo6Zw.js";import"./supabase-vendor-CZ5UGAb5.js";function n(){const[n,o]=e.useState({providerType:"",requestType:"",name:"",email:"",mobile:"",registrationNumber:"",currentInfo:"",updatedInfo:"",reason:"",document:null,termsAccepted:!1}),[i,d]=e.useState(null),[c,x]=e.useState(!1),[m,u]=e.useState(!1),h=e=>{const{name:s,value:r,type:a,checked:t}=e.target;o(e=>({...e,[s]:"checkbox"===a?t:r}))};return m?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-teal-50",children:[s.jsx("div",{className:"max-w-2xl mx-auto px-4 py-20",children:s.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 md:p-12 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-teal-400 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-4",children:"অনুরোধ সফলভাবে জমা হয়েছে!"}),s.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed",children:"আপনার তথ্য সংশোধন/মুছে ফেলার অনুরোধ সফলভাবে জমা হয়েছে। আমাদের টিম শীঘ্রই আপনার অনুরোধ পর্যালোচনা করবে এবং প্রয়োজনে আপনার সাথে যোগাযোগ করবে।"}),s.jsxs(r,{to:"/",className:"inline-flex items-center gap-2 bg-gradient-to-r from-teal-500 to-emerald-500 text-white px-8 py-3 rounded-xl font-medium hover:from-teal-600 hover:to-emerald-600 transition-all shadow-lg shadow-teal-500/30",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"হোম পেজে ফিরে যান"]})]})}),s.jsx(a,{})]}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-teal-50",children:[s.jsx("div",{className:"bg-gradient-to-r from-teal-600 to-emerald-600 text-white py-16",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full text-sm mb-6",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"তথ্য সম্পাদনা"]}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"তথ্য সংশোধন বা মুছে ফেলুন"}),s.jsx("p",{className:"text-teal-100 max-w-2xl mx-auto",children:"আপনি যদি ডাক্তার, হাসপাতাল, ডায়াগনস্টিক সেন্টার বা অ্যাম্বুলেন্স সার্ভিস হিসেবে নিবন্ধিত থাকেন এবং আপনার তথ্য সংশোধন বা মুছে ফেলতে চান, তাহলে নিচের ফর্মটি পূরণ করুন।"})]})}),s.jsx("div",{className:"max-w-4xl mx-auto px-4 py-12",children:s.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),n.termsAccepted)if(t&&l){x(!0);try{const e={provider_type:n.providerType,request_type:n.requestType,name:n.name,email:n.email,mobile:n.mobile,registration_number:n.registrationNumber,current_info:n.currentInfo,updated_info:n.updatedInfo,reason:n.reason,document_url:i,terms_accepted:n.termsAccepted,status:"pending"},{error:s}=await t.from("data_edit_requests").insert([e]);if(s)throw s;u(!0)}catch(s){alert("অনুরোধ জমা দিতে সমস্যা হয়েছে। অনুগ্রহ করে আবার চেষ্টা করুন।")}finally{x(!1)}}else alert("ডাটাবেস কনফিগার করা হয়নি। অনুগ্রহ করে পরে আবার চেষ্টা করুন।");else alert("অনুগ্রহ করে শর্তাবলী মেনে নিন")},className:"space-y-8",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 md:p-8",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-3",children:[s.jsx("span",{className:"w-10 h-10 bg-teal-100 rounded-xl flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),"অনুরোধের ধরন"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["আপনি কোন ধরনের সেবাদাতা? ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"providerType",value:n.providerType,onChange:h,required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-all",children:[s.jsx("option",{value:"",children:"নির্বাচন করুন"}),[{value:"doctor",label:"ডাক্তার"},{value:"hospital",label:"হাসপাতাল"},{value:"diagnostic_center",label:"ডায়াগনস্টিক সেন্টার"},{value:"ambulance",label:"অ্যাম্বুলেন্স সার্ভিস"}].map(e=>s.jsx("option",{value:e.value,children:e.label},e.value))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["আপনি কী করতে চান? ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"requestType",value:n.requestType,onChange:h,required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-all",children:[s.jsx("option",{value:"",children:"নির্বাচন করুন"}),[{value:"edit",label:"তথ্য সংশোধন করতে চাই"},{value:"delete",label:"তথ্য মুছে ফেলতে চাই"}].map(e=>s.jsx("option",{value:e.value,children:e.label},e.value))]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 md:p-8",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-3",children:[s.jsx("span",{className:"w-10 h-10 bg-teal-100 rounded-xl flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),"আপনার তথ্য"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["আপনার নাম ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"name",value:n.name,onChange:h,required:!0,placeholder:"সম্পূর্ণ নাম লিখুন",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-all"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["ইমেইল ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"email",name:"email",value:n.email,onChange:h,required:!0,placeholder:"example@email.com",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-all"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["মোবাইল নম্বর ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"tel",name:"mobile",value:n.mobile,onChange:h,required:!0,placeholder:"01XXXXXXXXX",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-all"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"রেজিস্ট্রেশন/রেফারেন্স নম্বর"}),s.jsx("input",{type:"text",name:"registrationNumber",value:n.registrationNumber,onChange:h,placeholder:"যদি থাকে (যেমন: BM&DC নম্বর)",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-all"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 md:p-8",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-3",children:[s.jsx("span",{className:"w-10 h-10 bg-teal-100 rounded-xl flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),"সংশোধন/মুছে ফেলার বিবরণ"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["বর্তমান তথ্য (যা সংশোধন/মুছতে চান) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{name:"currentInfo",value:n.currentInfo,onChange:h,required:!0,rows:4,placeholder:"আমাদের ওয়েবসাইটে বর্তমানে যে তথ্য প্রদর্শিত হচ্ছে তা লিখুন...",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-all resize-none"})]}),"edit"===n.requestType&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["সংশোধিত/নতুন তথ্য ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{name:"updatedInfo",value:n.updatedInfo,onChange:h,required:"edit"===n.requestType,rows:4,placeholder:"আপনি যে তথ্য দেখাতে চান তা লিখুন...",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-all resize-none"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["কারণ ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{name:"reason",value:n.reason,onChange:h,required:!0,rows:3,placeholder:"কেন এই সংশোধন/মুছে ফেলার প্রয়োজন তা সংক্ষেপে লিখুন...",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-all resize-none"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 md:p-8",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-3",children:[s.jsx("span",{className:"w-10 h-10 bg-teal-100 rounded-xl flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),"সহায়ক ডকুমেন্ট (ঐচ্ছিক)"]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"পরিচয় প্রমাণ বা সহায়ক ডকুমেন্ট"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:e=>{const s=e.target.files[0];if(s){o(e=>({...e,document:s}));const e=new FileReader;e.onloadend=()=>{d(e.result)},e.readAsDataURL(s)}},className:"hidden",id:"document-upload"}),s.jsx("label",{htmlFor:"document-upload",className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-gray-300 rounded-xl cursor-pointer hover:border-teal-500 transition-colors",children:i?s.jsxs("div",{className:"relative w-full h-full",children:[s.jsx("img",{src:i,alt:"Document preview",className:"w-full h-full object-contain rounded-xl p-2"}),s.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 hover:opacity-100 transition-opacity rounded-xl flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm",children:"পরিবর্তন করুন"})})]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),s.jsx("p",{className:"text-sm text-gray-500",children:"ক্লিক করে আপলোড করুন"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"PNG, JPG, PDF (সর্বোচ্চ 10MB)"})]})})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"যাচাইকরণের জন্য আপনার পরিচয় প্রমাণ বা সংশ্লিষ্ট ডকুমেন্ট আপলোড করতে পারেন।"})]})]}),s.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 md:p-8",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("input",{type:"checkbox",name:"termsAccepted",checked:n.termsAccepted,onChange:h,required:!0,className:"w-5 h-5 mt-0.5 text-teal-600 rounded focus:ring-teal-500"}),s.jsxs("label",{className:"text-sm text-gray-600 leading-relaxed",children:["আমি নিশ্চিত করছি যে উপরে প্রদত্ত সমস্ত তথ্য সঠিক এবং আমি এই প্রতিষ্ঠান/সেবার সাথে সম্পর্কিত ব্যক্তি। আমি ",s.jsx(r,{to:"/terms-of-use",className:"text-teal-600 hover:underline",children:"ব্যবহারের শর্তাবলী"})," এবং ",s.jsx(r,{to:"/privacy-policy",className:"text-teal-600 hover:underline",children:"গোপনীয়তা নীতি"})," মেনে নিচ্ছি।"]})]})}),s.jsx("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-teal-500 to-emerald-500 text-white py-4 px-6 rounded-xl font-medium text-lg hover:from-teal-600 hover:to-emerald-600 transition-all shadow-lg shadow-teal-500/30 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin w-5 h-5",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"জমা হচ্ছে..."]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"অনুরোধ জমা দিন"]})})]})}),s.jsx(a,{})]})}export{n as default};
