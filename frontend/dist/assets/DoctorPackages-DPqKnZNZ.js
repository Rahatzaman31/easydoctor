import{g as e,r as a,j as s}from"./react-vendor-KvxbO3mS.js";import{s as t,i as l}from"./index-D0fMXm6Q.js";import{D as r}from"./DoctorAdminSidebar-UPJWOQbi.js";import"./vendor-ZcaEhcQo.js";import"./editor-vendor-CSPj58cm.js";import"./supabase-DvSZys4T.js";const d=[{id:"standard",name:"‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú",price:"‡¶´‡ßç‡¶∞‡ßÄ",priceValue:0,isDefault:!0,duration:"‡¶Ü‡¶ú‡ßÄ‡¶¨‡¶®",features:[{label:"‡¶∞‡ßá‡¶ü‡¶ø‡¶Ç",value:"4.8"},{label:"‡¶∞‡¶ø‡¶≠‡¶ø‡¶â",value:"‡ß´ ‡¶•‡ßá‡¶ï‡ßá ‡ßß‡ß¶ ‡¶ü‡¶ø"},{label:"‡¶¶‡ßà‡¶®‡¶ø‡¶ï ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶≤‡¶ø‡¶Æ‡¶ø‡¶ü",value:"‡ß® ‡¶ü‡¶ø"}],color:"from-gray-500 to-gray-600",borderColor:"border-gray-300",badge:"‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü"},{id:"professional",name:"‡¶™‡ßç‡¶∞‡ßã‡¶´‡ßá‡¶∂‡¶®‡¶æ‡¶≤ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú",price:"‡ß´‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ",priceValue:500,isDefault:!1,features:[{label:"‡¶∞‡ßá‡¶ü‡¶ø‡¶Ç",value:"4.9"},{label:"‡¶∞‡¶ø‡¶≠‡¶ø‡¶â",value:"‡ßß‡ß¶ ‡¶•‡ßá‡¶ï‡ßá ‡ß®‡ß¶ ‡¶ü‡¶ø"},{label:"‡¶¶‡ßà‡¶®‡¶ø‡¶ï ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶≤‡¶ø‡¶Æ‡¶ø‡¶ü",value:"‡ß´ ‡¶ü‡¶ø"}],color:"from-blue-500 to-blue-600",borderColor:"border-blue-300",badge:"‡¶ú‡¶®‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º"},{id:"premium",name:"‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú",price:"‡ßß‡ß´‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ",priceValue:1500,isDefault:!1,features:[{label:"‡¶∞‡ßá‡¶ü‡¶ø‡¶Ç",value:"5.0"},{label:"‡¶∞‡¶ø‡¶≠‡¶ø‡¶â",value:"‡ß®‡ß¶ ‡¶•‡ßá‡¶ï‡ßá ‡¶Ü‡¶®‡¶≤‡¶ø‡¶Æ‡¶ø‡¶ü‡ßá‡¶°"},{label:"‡¶¶‡ßà‡¶®‡¶ø‡¶ï ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶≤‡¶ø‡¶Æ‡¶ø‡¶ü",value:"‡¶Ü‡¶®‡¶≤‡¶ø‡¶Æ‡¶ø‡¶ü‡ßá‡¶°"}],color:"from-purple-500 to-purple-600",borderColor:"border-purple-300",badge:"‡¶∏‡ßá‡¶∞‡¶æ"}];function i(){const i=e(),[c,n]=a.useState(!0),[o,x]=a.useState(d),[m,p]=a.useState("standard"),[u,h]=a.useState([]),[b,g]=a.useState(!1),[f,j]=a.useState(null),[y,N]=a.useState(!1),v=localStorage.getItem("doctorId"),w=localStorage.getItem("doctorName");async function _(){try{if(!t||!l||!v)return void n(!1);const[e,a]=await Promise.all([t.from("doctors").select("package_type").eq("id",v).single(),t.from("package_requests").select("*").eq("doctor_id",v).order("created_at",{ascending:!1})]);e.data&&p(e.data.package_type||"standard"),h(a.data||[])}catch(e){}finally{n(!1)}}return a.useEffect(()=>{localStorage.getItem("doctorLoggedIn")?(!async function(){try{const e=await fetch("/api/doctor-packages"),a=await e.json();if(a.success&&a.data&&a.data.length>0){const e=a.data.map(e=>({id:e.package_id,name:e.name,price:e.price_display,priceValue:e.price_value||0,isDefault:e.is_default,duration:e.duration||(e.is_default?"‡¶Ü‡¶ú‡ßÄ‡¶¨‡¶®":null),features:(e.features||[]).map(e=>({label:e.label,value:e.value})),color:`from-${e.color_from||"gray-500"} to-${e.color_to||"gray-600"}`,borderColor:e.border_color||"border-gray-300",badge:e.badge}));x(e)}}catch(e){}}(),_()):i("/doctor.admin/login")},[]),c?s.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[s.jsx(r,{}),s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})})]}):s.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[s.jsx(r,{}),s.jsxs("div",{className:"flex-1 p-4 pt-16 lg:pt-6 lg:p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-800",children:"‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú"}),s.jsx("p",{className:"text-gray-500 mt-1",children:"‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®"})]}),s.jsx("div",{className:"bg-teal-50 border border-teal-200 rounded-xl p-4 mb-8",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:"üì¶"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-teal-800 font-medium",children:["‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú: ",o.find(e=>e.id===m)?.name]}),s.jsx("p",{className:"text-teal-600 text-sm",children:"‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡¶§‡ßá ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú ‡¶ó‡ßÅ‡¶≤‡ßã ‡¶•‡ßá‡¶ï‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®"})]})]})}),s.jsx("div",{className:"grid lg:grid-cols-3 gap-6 mb-8",children:o.map(e=>s.jsxs("div",{className:`bg-white rounded-2xl shadow-lg overflow-hidden border-2 ${m===e.id?"border-teal-500":e.borderColor}`,children:[s.jsxs("div",{className:`bg-gradient-to-r ${e.color} p-6 text-white relative`,children:[e.badge&&s.jsx("span",{className:"absolute top-4 right-4 bg-white/20 px-3 py-1 rounded-full text-xs font-medium",children:e.badge}),s.jsx("h3",{className:"text-xl font-bold",children:e.name}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:e.price}),e.duration?s.jsx("p",{className:"text-white/80 text-sm",children:e.duration}):!e.isDefault&&s.jsx("p",{className:"text-white/80 text-sm",children:"‡¶Æ‡¶æ‡¶∏‡¶ø‡¶ï"})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("ul",{className:"space-y-4",children:e.features.map((e,a)=>s.jsxs("li",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:e.label}),s.jsx("span",{className:"font-semibold text-gray-800",children:e.value})]},a))}),s.jsx("button",{onClick:()=>function(e){e.id!==m?(j(e),g(!0)):alert("‡¶Ü‡¶™‡¶®‡¶ø ‡¶á‡¶§‡¶ø‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶è‡¶á ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú‡ßá ‡¶Ü‡¶õ‡ßá‡¶®")}(e),disabled:m===e.id,className:"w-full mt-6 py-3 rounded-xl font-semibold transition-colors "+(m===e.id?"bg-gray-100 text-gray-500 cursor-not-allowed":`bg-gradient-to-r ${e.color} text-white hover:opacity-90`),children:m===e.id?"‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú":"‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®"})]})]},e.id))}),u.length>0&&s.jsxs("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶∏‡¶Æ‡ßÇ‡¶π"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{className:"text-left text-gray-600",children:[s.jsx("th",{className:"px-6 py-4 text-sm font-semibold",children:"‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ"}),s.jsx("th",{className:"px-6 py-4 text-sm font-semibold",children:"‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú"}),s.jsx("th",{className:"px-6 py-4 text-sm font-semibold",children:"‡¶Ü‡¶¨‡ßá‡¶¶‡¶ø‡¶§ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú"}),s.jsx("th",{className:"px-6 py-4 text-sm font-semibold",children:"‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏"}),s.jsx("th",{className:"px-6 py-4 text-sm font-semibold",children:"‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶®‡ßã‡¶ü"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:u.map(e=>{const a=function(e){const a={pending:{text:"‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶Æ‡¶æ‡¶®",class:"bg-yellow-100 text-yellow-700"},approved:{text:"‡¶Ö‡¶®‡ßÅ‡¶Æ‡ßã‡¶¶‡¶ø‡¶§",class:"bg-green-100 text-green-700"},rejected:{text:"‡¶™‡ßç‡¶∞‡¶§‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ‡¶§",class:"bg-red-100 text-red-700"}};return a[e]||a.pending}(e.status);return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-gray-600",children:(t=e.created_at,t?new Date(t).toLocaleDateString("bn-BD",{year:"numeric",month:"short",day:"numeric"}):"-")}),s.jsx("td",{className:"px-6 py-4 text-gray-800",children:o.find(a=>a.id===e.current_package)?.name}),s.jsx("td",{className:"px-6 py-4 font-medium text-gray-800",children:o.find(a=>a.id===e.requested_package)?.name}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${a.class}`,children:a.text})}),s.jsx("td",{className:"px-6 py-4 text-gray-500 text-sm",children:e.admin_notes||"-"})]},e.id);var t})})]})})]})]}),b&&f&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®‡ßá‡¶∞ ‡¶Ü‡¶¨‡ßá‡¶¶‡¶®"})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-gray-600",children:"‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú"}),s.jsx("span",{className:"font-semibold",children:o.find(e=>e.id===m)?.name})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú"}),s.jsx("span",{className:"font-semibold text-teal-600",children:f.name})]})]}),s.jsxs("div",{className:`bg-gradient-to-r ${f.color} rounded-xl p-4 text-white mb-4`,children:[s.jsxs("p",{className:"font-semibold",children:["‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø: ",f.price]}),f.priceValue>0&&s.jsx("p",{className:"text-white/80 text-sm mt-1",children:"‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶Ö‡¶®‡ßÅ‡¶Æ‡ßã‡¶¶‡¶®‡ßá‡¶∞ ‡¶™‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá"})]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶™‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶ï‡¶∞‡¶¨‡ßá ‡¶è‡¶¨‡¶Ç ‡¶Ö‡¶®‡ßÅ‡¶Æ‡ßã‡¶¶‡¶® ‡¶ï‡¶∞‡¶≤‡ßá ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶π‡¶¨‡ßá‡•§"})]}),s.jsxs("div",{className:"p-6 border-t flex gap-3",children:[s.jsx("button",{onClick:()=>g(!1),className:"flex-1 py-3 border border-gray-300 rounded-xl font-semibold text-gray-600",children:"‡¶¨‡¶æ‡¶§‡¶ø‡¶≤"}),s.jsx("button",{onClick:async function(){N(!0);try{if(!t||!l)return void alert("‡¶°‡¶æ‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶∏‡¶Ç‡¶Ø‡ßã‡¶ó ‡¶®‡ßá‡¶á");const{error:e}=await t.from("package_requests").insert([{doctor_id:v,doctor_name:w,current_package:m,requested_package:f.id,status:"pending"}]);if(e)throw e;alert("‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®‡ßá‡¶∞ ‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!"),g(!1),_()}catch(e){alert("‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá: "+(e.message||JSON.stringify(e)))}finally{N(!1)}},disabled:y,className:`flex-1 py-3 bg-gradient-to-r ${f.color} text-white rounded-xl font-semibold hover:opacity-90 disabled:opacity-50`,children:y?"‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡¶ö‡ßç‡¶õ‡ßá...":"‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®"})]})]})})]})}export{i as default};
